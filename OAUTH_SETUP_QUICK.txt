â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         CONFIGURATION OAUTH - CHECKLIST RAPIDE                 â•‘
â•‘         AVEC DOMAINE: alex2-server.fr                          â•‘
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

âœ… FICHIER PHP DÃ‰JÃ€ CONFIGURÃ‰ !
   â†’ /var/www/html/novatis/config/oauth.local.php
   â†’ DÃ©tection automatique domaine/IP

ğŸ“ CONFIGURATION DNS OVH REQUISE :
   1. Aller sur https://www.ovh.com/manager/
   2. Zone DNS â†’ alex2-server.fr
   3. Ajouter enregistrement A : alex2-server.fr â†’ 100.78.233.118
   4. (Optionnel) Ajouter A : www.alex2-server.fr â†’ 100.78.233.118
   5. Attendre propagation DNS (5-30 min)

ğŸ“ APRÃˆS PROPAGATION DNS, OBTENIR CERTIFICAT SSL :
   sudo certbot --nginx -d alex2-server.fr -d www.alex2-server.fr

ğŸ“ PUIS CONFIGURER LES PROVIDERS OAUTH :

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1ï¸âƒ£  GOOGLE CONSOLE                                          â”‚
â”‚                                                             â”‚
â”‚ URL : https://console.cloud.google.com/apis/credentials    â”‚
â”‚                                                             â”‚
â”‚ Ajoutez cette redirect URI (HTTPS avec domaine) :          â”‚
â”‚ âœ“ https://alex2-server.fr/novatis/api/oauth/callback.php?provider=googleâ”‚
â”‚                                                             â”‚
â”‚ (Optionnel pour dev local en HTTP) :                       â”‚
â”‚ âœ“ http://192.168.1.38/novatis/api/oauth/callback.php?provider=googleâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2ï¸âƒ£  MICROSOFT AZURE                                         â”‚
â”‚                                                             â”‚
â”‚ URL : https://portal.azure.com/                            â”‚
â”‚ Recherchez : App registrations â†’ Authentication            â”‚
â”‚ App ID : 4fce303c-54f4-4227-aec5-9a1f03d8a52d             â”‚
â”‚                                                             â”‚
â”‚ Ajoutez cette redirect URI (HTTPS avec domaine) :          â”‚
â”‚ âœ“ https://alex2-server.fr/novatis/api/oauth/callback.php?provider=microsoftâ”‚
â”‚                                                             â”‚
â”‚ (Optionnel pour dev local en HTTP) :                       â”‚
â”‚ âœ“ http://192.168.1.38/novatis/api/oauth/callback.php?provider=microsoftâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3ï¸âƒ£  GITHUB                                                  â”‚
â”‚                                                             â”‚
â”‚ URL : https://github.com/settings/developers               â”‚
â”‚                                                             â”‚
â”‚ âš ï¸  GitHub = 1 seule URL par app                           â”‚
â”‚                                                             â”‚
â”‚ OPTION A : Utiliser le domaine (recommandÃ©)                â”‚
â”‚ â†’ Client ID : Ov23liWt1MZec2E0aSd7                         â”‚
â”‚ â†’ Callback : https://alex2-server.fr/novatis/api/oauth/callback.php?provider=githubâ”‚
â”‚                                                             â”‚
â”‚ OPTION B : CrÃ©er 2 apps (domaine + local)                  â”‚
â”‚ â†’ App 1 Domaine : https://alex2-server.fr/novatis/...     â”‚
â”‚ â†’ App 2 Local : http://192.168.1.38/novatis/...           â”‚
â”‚ â†’ Puis modifier oauth.local.php avec les 2 Client IDs      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ” COMMENT Ã‡A MARCHE :

Le fichier PHP dÃ©tecte automatiquement l'URL utilisÃ©e :
â€¢ Vous accÃ©dez via alex2-server.fr â†’ callback vers alex2-server.fr
â€¢ Vous accÃ©dez via 192.168.1.38 â†’ callback vers 192.168.1.38

âœ… RECOMMANDATION : Utilisez alex2-server.fr partout (mÃªme en local)
   â†’ Une seule URL HTTPS qui marche partout
   â†’ Certificat SSL valide acceptÃ© par Google/Microsoft/GitHub

ğŸ“š Documentation complÃ¨te :
â†’ /var/www/html/novatis/docs/OAUTH_TAILSCALE_SETUP.md

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
